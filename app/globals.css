@import "tailwindcss";

@plugin "tailwindcss-animate";

@custom-variant dark (&:is(.dark *));

@layer base {
  :root {
    --background: 255 255 255;
    --foreground: 9 9 11;
    --muted: 244 244 245;
    --muted-foreground: 113 113 122;
    --popover: 255 255 255;
    --popover-foreground: 9 9 11;
    --card: 255 255 255;
    --card-foreground: 9 9 11;
    --primary: 239 68 68;
    --primary-foreground: 255 255 255;
    --secondary: 244 244 245;
    --secondary-foreground: 24 24 27;
    --accent: 244 244 245;
    --accent-foreground: 24 24 27;
    --destructive: 239 68 68;
    --destructive-foreground: 255 255 255;
    --border: 228 228 231;
    --input: 228 228 231;
    --ring: 239 68 68;
    --radius: 1rem;
  }

  .dark {
    --background: 8 8 8;
    --foreground: 250 250 250;
    --muted: 24 24 27;
    --muted-foreground: 161 161 170;
    --popover: 9 9 11;
    --popover-foreground: 250 250 250;
    --card: 12 12 12;
    --card-foreground: 250 250 250;
    --primary: 239 68 68;
    --primary-foreground: 255 255 255;
    --secondary: 32 32 35;
    --secondary-foreground: 250 250 250;
    --accent: 32 32 35;
    --accent-foreground: 250 250 250;
    --destructive: 153 27 27;
    --destructive-foreground: 250 250 250;
    --border: 39 39 42;
    --input: 39 39 42;
    --ring: 239 68 68;
  }
}

@theme inline {
  --color-background: rgb(var(--background));
  --color-foreground: rgb(var(--foreground));
  --color-muted: rgb(var(--muted));
  --color-muted-foreground: rgb(var(--muted-foreground));
  --color-card: rgb(var(--card));
  --color-card-foreground: rgb(var(--card-foreground));
  --color-primary: rgb(var(--primary));
  --color-primary-foreground: rgb(var(--primary-foreground));
  --color-accent: rgb(var(--accent));
  --color-accent-foreground: rgb(var(--accent-foreground));
  --color-border: rgb(var(--border));
  --radius-xl: calc(var(--radius) + 0.5rem);
  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 0.25rem);
  --radius-sm: calc(var(--radius) - 0.5rem);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-destructive: var(--destructive);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);
  --radius-4xl: calc(var(--radius) + 16px);
}

* {
  @apply selection:bg-red-500/10 selection:text-red-600 dark:selection:bg-red-500/20;
}

body {
  background-color: var(--color-background);
  color: var(--color-foreground);
  font-family: var(--font-inter), system-ui, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* 2026 Layout Utilities */
.glass-nav {
  @apply sticky top-0 z-50 w-full border-b border-border/40 bg-background/80 backdrop-blur-xl transition-all;
}

.premium-card {
  @apply rounded-xl border border-border bg-card shadow-sm transition-all duration-300 hover:shadow-md hover:border-border/80 dark:bg-card/50;
}

.bento-grid {
  @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6;
}

.tech-table {
  @apply w-full overflow-hidden rounded-lg border border-border/60 bg-card text-sm leading-relaxed;
}

.tech-table thead tr {
  @apply bg-muted/5 border-b border-border/60;
}

.tech-table th {
  @apply px-4 py-3 text-left font-semibold text-foreground/80 first:pl-6 last:pr-6;
}

.tech-table td {
  @apply px-4 py-3 border-b border-border/40 first:pl-6 last:pr-6 align-top;
}

.tech-table tr:last-child td {
  @apply border-b-0;
}

.tech-table tbody tr {
  @apply hover:bg-muted/5 transition-colors duration-150;
}

/* Sushi-grade labels */
.badge {
  @apply inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2;
}

.badge-primary {
  @apply border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80;
}

.badge-outline {
  @apply text-foreground border-border;
}

/* Editorial Typography */
.prose {
  @apply max-w-none text-foreground/90 leading-relaxed;
}

.prose h1, .prose h2, .prose h3 {
  @apply tracking-tight font-bold text-foreground;
}

.prose p {
  @apply mb-6;
}

.prose-premium h1 {
  @apply text-4xl lg:text-6xl mb-8;
}

.prose-premium h2 {
  @apply text-2xl lg:text-3xl mt-16 mb-6 pb-2 border-b border-border/60;
}

/* Floating Action Button for PDF */
.fab-print {
  @apply fixed bottom-8 right-8 z-40 p-4 rounded-full bg-primary text-primary-foreground shadow-lg hover:shadow-xl hover:scale-105 active:scale-95 transition-all duration-300;
}

/* PDF Area Specifics */
#recipe-pdf {
  @apply bg-white p-12 text-zinc-900 border-none rounded-none;
  box-shadow: none !important;
}

.dark #recipe-pdf {
  @apply bg-white text-zinc-900;
}

/* PDF Safety */
.pdf-safe, .pdf-safe * {
  color: #000 !important;
  background-color: #fff !important;
  border-color: #e5e5e5 !important;
  box-shadow: none !important;
}

/* Responsive Table Overrides for Mobile 2026 */
@media (max-width: 768px) {
  .tech-table {
    @apply block overflow-x-auto whitespace-nowrap text-[11px];
  }
}

.pdf-safe h2,
.pdf-safe h3 {
  color: #000 !important;
}

.pdf-safe .tech-table thead th {
  background-color: #f9f9f9 !important;
  border-bottom-color: #000 !important;
}

.pdf-safe .tech-note {
  border-left-color: #cc0000 !important;
  color: #333 !important;
}

.animate-in {
  animation-fill-mode: both;
}

.fade-in {
  animation: fade-in 0.2s ease-out;
}

.slide-in-from-top-2 {
  animation: slide-in-from-top 0.2s ease-out;
}

.spin-in-180 {
  animation: spin-in 0.3s ease-out;
}

.duration-200 {
  animation-duration: 0.2s;
}

.duration-300 {
  animation-duration: 0.3s;
}

.animate-in {
  animation: fade-in 0.2s ease-out, slide-in-from-top-2 0.2s ease-out;
}

.fade-in {
  animation: fade-in 0.2s ease-out;
}

.slide-in-from-top-2 {
  animation: slide-in-from-top 0.2s ease-out;
}

/* ========================================
   MOBILE RESPONSIVE STYLES
   ======================================== */

/* Мобильная адаптация для блога */
@media (max-width: 768px) {
  /* Контейнер статьи */
  .max-w-4xl {
    padding-left: 1rem;
    padding-right: 1rem;
  }

  /* Заголовок статьи */
  article header h1 {
    font-size: 1.875rem !important;
    line-height: 1.2 !important;
    margin-bottom: 1rem !important;
  }

  /* Подзаголовок/excerpt */
  article header p {
    font-size: 1rem !important;
    line-height: 1.5 !important;
  }

  /* Метаинформация */
  article header .flex.items-center.gap-4 {
    flex-wrap: wrap;
    gap: 0.5rem !important;
  }

  /* Hero изображение */
  article .aspect-\[21\/9\] {
    aspect-ratio: 16/9 !important;
    margin-bottom: 2rem !important;
  }

  /* Технологическая карта */
  #recipe-pdf {
    width: 100% !important;
    padding: 1rem !important;
    margin: 0 !important;
  }

  /* Кнопка PDF */
  .print-button-container {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 1rem !important;
    padding: 1rem !important;
  }

  .print-button-container button {
    width: 100%;
    justify-content: center;
  }

  /* Таблицы */
  .tech-table {
    font-size: 11px !important;
    display: block;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  .tech-table thead th {
    padding: 6px 4px !important;
    font-size: 10px !important;
    white-space: nowrap;
  }

  .tech-table tbody td {
    padding: 6px 4px !important;
    font-size: 11px !important;
    line-height: 1.3 !important;
  }

  .tech-table th:nth-child(1),
  .tech-table td:nth-child(1) {
    width: 40px !important;
    min-width: 40px;
  }

  .tech-table th:nth-child(3),
  .tech-table td:nth-child(3) {
    width: 60px !important;
    min-width: 60px;
  }

  /* Примечания */
  .tech-note {
    font-size: 11px !important;
    padding-left: 8px !important;
    margin-top: 1rem !important;
    line-height: 1.4 !important;
  }

  /* Callout/ChefTip */
  .callout,
  .chef-tip {
    padding: 0.75rem !important;
    font-size: 0.875rem !important;
  }

  /* Текстовый контент */
  article ul,
  article ol {
    padding-left: 1.25rem !important;
    margin-bottom: 1rem !important;
  }

  article li {
    font-size: 1rem !important;
    margin-bottom: 0.5rem !important;
  }

  article p {
    font-size: 1rem !important;
    line-height: 1.6 !important;
    margin-bottom: 1rem !important;
  }

  article h2 {
    font-size: 1.5rem !important;
    margin-top: 2rem !important;
    margin-bottom: 1rem !important;
    padding-top: 2rem !important;
  }

  article h3 {
    font-size: 1.25rem !important;
    margin-top: 1.5rem !important;
    margin-bottom: 0.75rem !important;
  }

  /* Footer */
  article footer {
    margin-top: 3rem !important;
    padding-top: 2rem !important;
  }

  article footer .flex {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 1.5rem !important;
  }
}

/* Маленькие экраны (< 375px) */
@media (max-width: 374px) {
  article header h1 {
    font-size: 1.5rem !important;
  }

  .tech-table {
    font-size: 10px !important;
  }

  .tech-table thead th,
  .tech-table tbody td {
    padding: 4px 2px !important;
    font-size: 9px !important;
  }

  .print-button-container {
    padding: 0.75rem !important;
  }

  #recipe-pdf {
    padding: 0.75rem !important;
  }
}

/* Планшеты (768px - 1024px) */
@media (min-width: 769px) and (max-width: 1024px) {
  article header h1 {
    font-size: 2.25rem !important;
  }

  .tech-table {
    font-size: 12px !important;
  }

  #recipe-pdf {
    width: 100%;
    max-width: 700px;
    margin: 0 auto;
  }
}

:root {
  --radius: 0.625rem;
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: oklch(0.205 0 0);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);
  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.205 0 0);
  --destructive: oklch(0.577 0.245 27.325);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: oklch(0.205 0 0);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.205 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.205 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.922 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.556 0 0);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(1 0 0 / 10%);
  --sidebar-ring: oklch(0.556 0 0);
}
